<!DOCTYPE HTML>
<html lang="<%= config.language %>">
<%- partial('_partial/head') %>

<body>
    <%- partial('_partial/header') %>
    <%- body %>

    <%- partial('_partial/footer') %>

    <%- partial('_partial/search') %>
    <%- partial('_partial/back-top') %>

    <script src="<%- theme.jsDelivr.url %><%- url_for(theme.libs.js.materialize) %>"></script>
    <script src="<%- theme.jsDelivr.url %><%- url_for(theme.libs.js.masonry) %>"></script>
    <script src="<%- theme.jsDelivr.url %><%- url_for(theme.libs.js.aos) %>"></script>
    <script src="<%- theme.jsDelivr.url %><%- url_for(theme.libs.js.scrollProgress) %>"></script>
    <script src="<%- theme.jsDelivr.url %><%- url_for(theme.libs.js.lightgallery) %>"></script>
    <script src="<%- theme.jsDelivr.url %><%- url_for('/js/matery.js') %>"></script>

    <%- partial('_partial/baidu-analytics') %>
    <%- partial('_partial/baidu-push') %>
    <% if (theme.clicklove.enable) { %>
    <script src="<%- theme.jsDelivr.url %><%- url_for(theme.libs.js.clicklove) %>" async="async"></script>
    <% } %>
    <% if (theme.busuanziStatistics && theme.busuanziStatistics.enable) { %>
    <script async src="<%- theme.jsDelivr.url %><%- url_for(theme.libs.js.busuanzi) %>"></script>
    <% } %>

    <% if (theme.tidio.enable) { %>
        <script src="//code.tidio.co/<%- theme.tidio.public_key %>.js"></script>
        <script>
            $(document).ready(function () {
                setInterval(change_Tidio, 50);
                function change_Tidio() {
                    var tidio=$("#tidio-chat iframe");
                    if(tidio.css("display")=="block"&& $(window).width()>977 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" &&$(window).width()>977)>0? "-40px" : ($("div.toc-title").length&&$(window).width()>977)>0?"<%if(theme.toc.showToggleBtn){%>85px<%}else{%>20px<%}%>":"20px";
                        document.getElementById("tidio-chat-iframe").style.right="-15px";
                        document.getElementById("tidio-chat-iframe").style.height=parseInt(tidio.css("height"))>=520?"520px":tidio.css("height");
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    else if(tidio.css("display")=="block"&&$(window).width()>601 &&$(window).width()<992 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && 601< $(window).width()<992)>0? "-40px":"20px" ;
                        document.getElementById("tidio-chat-iframe").style.right="-15px";
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    else if(tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))<230){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && $(window).width()<601)>0? "-10px":"45px" ;
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    if( tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))>=230){
                        document.getElementById("tidio-chat-iframe").style.zIndex="998";
                    }
                }
            });
        </script>
    <% } %>

    <% if (theme.daovoice.enable) { %>
    <script>
        (function (i, s, o, g, r, a, m) {
            i["DaoVoiceObject"] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o), m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            a.charset = "utf-8";
            m.parentNode.insertBefore(a, m)
        })(window, document, "script", ('https:' == document.location.protocol ? 'https:' : 'http:') +
            "//widget.daovoice.io/widget/6984b559.js", "daovoice")
        daovoice('init', {
            app_id: "<%- theme.daovoice.app_id %>"
        });
        daovoice('update');
    </script>
    <% } %>

    <% if (theme.canvas_nest.enable) { %>
    <script type="text/javascript" color="<%- theme.canvas_nest.color %>"
        pointColor="<%- theme.canvas_nest.pointColor %>" opacity='<%- theme.canvas_nest.opacity %>'
        zIndex="<%- theme.canvas_nest.zIndex %>" count="<%- theme.canvas_nest.count %>"
        src="<%- theme.jsDelivr.url %><%- url_for(theme.libs.js.canvas_nest) %>"></script>
    <% } %>

    <% if (theme.ribbon.enable) { %>
    <% var ribbonSrc = theme.ribbon.clickChange ? theme.libs.js.ribbon : theme.libs.js.ribbonRefresh; %>
    <script type="text/javascript" size="<%- theme.ribbon.size %>" alpha='<%- theme.ribbon.alpha %>'
        zIndex="<%- theme.ribbon.zIndex %>" src="<%- theme.jsDelivr.url %><%- url_for(ribbonSrc) %>" async="async"></script>
    <% } %>

    <% if (theme.ribbon_dynamic.enable) { %>
    <script type="text/javascript" src="<%- theme.jsDelivr.url %><%- url_for(theme.libs.js.ribbon_dynamic) %>" async="async"></script>
    <% } %>

    <% if (theme.instantpage.enable) { %>
    <script src="<%- theme.jsDelivr.url %><%- url_for(theme.libs.js.instantpage) %>" type="module"></script>
    <% } %>
	
	
	<script type="text/javascript">
		var OriginTitile = document.title,
			st;
		document.addEventListener("visibilitychange", function () {
			document.hidden ? (document.title = "Áúã‰∏çËßÅÊàëüôà~Áúã‰∏çËßÅÊàëüôà~", clearTimeout(st)) : (document.title =
				"(‡πë‚Ä¢ÃÄ„ÖÇ‚Ä¢ÃÅ) ‚úßË¢´ÂèëÁé∞‰∫ÜÔΩû", st = setTimeout(function () {
					document.title = OriginTitile
				}, 3e3))
		})
	</script>
	
	
	<!-- Èº†Ê†áÁÇπÂáªÊñáÂ≠óÁâπÊïà Ê¥™Âç´ shw2018 add 2019.09.10-->
        <% if (theme.wenzi.enable) { %>
            <script src="/js/wenzi.js" type="text/javascript"></script>
        <% } %>
		
	<!-- ËÉåÊôØÊ®±Ëä±È£òËêΩÁâπÊïà Ê¥™Âç´ shw2018 add 2019.09.10 -->
    <% if (theme.sakura.enable) { %>
        <script type="text/javascript">
		//Âè™Âú®Ê°åÈù¢ÁâàÁΩëÈ°µÂêØÁî®ÁâπÊïà
        var windowWidth = $(window).width();
        if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/js/sakura.js"><\/script>');
            }
        </script>
    <% } %>
	
	<!-- Â§©Ê∞îÊé•Âè£  YMH  2020Âπ¥6Êúà2Êó• 03:35:23 -->
	<% if (theme.weather.enable) { %>
	<%- partial('_widget/weather') %>
	<% } %>
	
	<!-- ÂÖ®Â±ÄÊöóÂ§úÊ®°Âºè  YMH  2021Âπ¥1Êúà9Êó• 19:07:23 -->
	<script> 
		if (localStorage.getItem('dark') === '1') { 
		document.body.classList.add('dark'); 
		} 
		else if (new Date().getHours() >= 23.5 || new Date().getHours() < 7) { 
		document.body.classList.add('dark'); 
		} 
		else if (matchMedia('(prefers-color-scheme: dark)').matches) { 
		document.body.classList.add('dark'); } 
		</script> 
		
		<a onclick="switchNightMode()" id="sma"> 
			<i class="fa fa-moon-o" id="nightMode" aria-hidden="true"></i> 
		</a>
		
		<!-- ÁΩëÁ´ô‰∏ªÈ¢òÂàáÊç¢Ê®°ÂºèÂºÄÂßã  YMH  2021Âπ¥1Êúà9Êó• 19:07:23 -->
		<script>
		if (localStorage.getItem('themespring') === '1') {
			document.body.classList.add('themespring');
		} else if (matchMedia('(prefers-color-scheme: themespring)').matches) {
			document.body.classList.add('themespring');
		}

		function switchThemes() {
			var body = document.body;
			if (body.classList.contains('themespring')) {
				document.body.classList.remove('themespring');
				localStorage.setItem('themespring', '0');
				document.querySelector(".deng-box").style.display = "none";
				document.querySelector(".deng-box1").style.display = "none";
				return;
			} else {
				document.body.classList.add('themespring');
				localStorage.setItem('themespring', '1');
				document.querySelector(".deng-box").style.display = "block";
				document.querySelector(".deng-box1").style.display = "block";
				return;
			}
		}; 
		</script>
		<!-- Êò•ËäÇ‰∏ªÈ¢ò ÊåâÈíÆ --> 
		<a onclick="switchThemes()" id="switchspring"> 
			<img class="chunjiepic" src="https://nekodeng.gitee.io/medias/spring-img/caishen.png" title="ËäÇÊó•Ê®°Âºè"> 
		</a>
		<!-- ÁΩëÁ´ô‰∏ªÈ¢òÂàáÊç¢Ê®°ÂºèÁªìÊùü  YMH  2021Âπ¥1Êúà9Êó• 19:07:23 -->



</body>

</html>
